<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Whorl Settings</title>
  <link rel="icon" type="image/png" sizes="32x32" href="icon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icon-16.png">
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <h1>Whorl</h1>
  <p class="extension-meta">
    <span class="version" id="extensionVersion"></span>
    <span class="separator">·</span>
    <span>Created by <a href="https://den.dev" target="_blank">Den Delimarsky</a></span>
    <span class="separator">·</span>
    <a href="https://github.com/dend/whorl/issues" target="_blank">Report an issue</a>
  </p>

  <section class="settings-section">
    <h2>Trigger</h2>
    <p class="section-description">Configure the character that activates the mention dropdown and how many results to show.</p>
    <div class="setting-row">
      <label for="triggerCharacter">Character</label>
      <input type="text" id="triggerCharacter" maxlength="1" value="@">
    </div>
    <div class="setting-row">
      <label for="maxResults">Maximum results</label>
      <input type="number" id="maxResults" min="1" max="50" value="10">
    </div>
  </section>

  <section class="settings-section">
    <h2>Behavior</h2>
    <p class="section-description">Control what happens when you select a contact from the dropdown.</p>
    <div class="setting-row checkbox-row">
      <input type="checkbox" id="autoAddRecipient" checked>
      <label for="autoAddRecipient">Automatically add mentioned contacts to the To field</label>
    </div>
  </section>

  <section class="settings-section">
    <h2>Contact Sources</h2>
    <p class="section-description">Choose where to search for contacts when the dropdown appears.</p>
    <div class="setting-row checkbox-row">
      <input type="checkbox" id="searchAddressBooks" checked>
      <label for="searchAddressBooks">Search address books</label>
    </div>
    <div class="setting-row checkbox-row">
      <input type="checkbox" id="searchRecipients" checked>
      <label for="searchRecipients">Search current message recipients</label>
    </div>
    <div class="setting-row checkbox-row">
      <input type="checkbox" id="searchCustomContacts" checked>
      <label for="searchCustomContacts">Search custom contacts</label>
    </div>
  </section>

  <section class="settings-section">
    <h2>Custom Contacts</h2>
    <p class="section-description">These contacts will appear in suggestions alongside your address book.</p>
    <table id="customContactsTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="customContactsList">
      </tbody>
    </table>
    <div class="add-row">
      <input type="text" id="newContactName" placeholder="Name">
      <input type="email" id="newContactEmail" placeholder="Email address">
      <button type="button" id="addContactBtn">Add</button>
    </div>
  </section>

  <section class="settings-section">
    <h2>Blocklist</h2>
    <p class="section-description">Contacts matching these patterns will be hidden from suggestions.</p>
    <ul id="blocklistItems">
    </ul>
    <div class="add-row">
      <input type="text" id="newBlocklistEntry" placeholder="Name or email pattern to block">
      <button type="button" id="addBlocklistBtn">Add</button>
    </div>
  </section>

  <div class="actions">
    <button type="button" id="saveBtn" class="primary">Save Settings</button>
    <span id="saveStatus"></span>
  </div>

  <script src="options.js"></script>
</body>
</html>
